
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../communication/">
      
      
        <link rel="next" href="../sync/">
      
      
      <link rel="icon" href="../img/ndn.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.11">
    
    
      
        <title>Security - NDN 101</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-orange" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#security" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="NDN 101" class="md-header__button md-logo" aria-label="NDN 101" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 3a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4v2h1a1 1 0 0 1 1 1h7v2h-7a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1H2v-2h7a1 1 0 0 1 1-1h1v-2H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h10Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            NDN 101
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Security
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/named-data/ndn-101" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="NDN 101" class="md-nav__button md-logo" aria-label="NDN 101" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 3a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4v2h1a1 1 0 0 1 1 1h7v2h-7a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1H2v-2h7a1 1 0 0 1 1-1h1v-2H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h10Z"/></svg>

    </a>
    NDN 101
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/named-data/ndn-101" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../packets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Packet Types
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../communication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Communication
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Security
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Security
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#signature" class="md-nav__link">
    <span class="md-ellipsis">
      Signature
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#trust-domain" class="md-nav__link">
    <span class="md-ellipsis">
      Trust Domain
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#trust-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Trust Schema
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#full-name" class="md-nav__link">
    <span class="md-ellipsis">
      Full Name
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../sync/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sync Transport
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../storage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Storage
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../forwarding/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Forwarding Plane
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../routing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Routing
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../testbed/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Research Testbed
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../debugging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debugging
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#signature" class="md-nav__link">
    <span class="md-ellipsis">
      Signature
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#trust-domain" class="md-nav__link">
    <span class="md-ellipsis">
      Trust Domain
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#trust-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Trust Schema
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#full-name" class="md-nav__link">
    <span class="md-ellipsis">
      Full Name
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="security">Security</h1>
<div class="admonition warning">
<p class="admonition-title">This page is under construction.</p>
</div>
<p>Security is baked into the core of NDN, and is a fundamental part of the architecture. NDN utilizes a data-centric name-based security model, where every piece of data is signed by its producer. This allows NDN to provide data-centric security, privacy, and trustworthiness. The following sections provide an overview of the security features of NDN.</p>
<h2 id="signature">Signature</h2>
<p>In NDN, every Data packet is digitally signed by its producer.
The signature guarantees the <em>integrity</em> of the packet, because the signature can only be generated by the original producer, and becomes invalid if the encoded packet is modified.</p>
<p>Digital signing is done by a pair of asymmetric keys, which consists of a private key and a public key.
The <em>private key</em> is known only by the producer, used to generate signatures.
Anyone who knows the <em>public key</em> can verify the signature.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">python-ndn</label><label for="__tabbed_1_2">NDNts</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">ndn.encoding</span> <span class="k">as</span> <span class="nn">enc</span>
<span class="kn">import</span> <span class="nn">ndn.security</span> <span class="k">as</span> <span class="nn">sec</span>
<span class="kn">from</span> <span class="nn">Cryptodome.PublicKey</span> <span class="kn">import</span> <span class="n">ECC</span>

<span class="c1"># Generate key pairs (Recommend &#39;P-256&#39; for ECDSA and &#39;ed25519&#39; for EdDSA)</span>
<span class="n">priv_key</span> <span class="o">=</span> <span class="n">ECC</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">curve</span><span class="o">=</span><span class="s1">&#39;ed25519&#39;</span><span class="p">)</span>
<span class="n">pub_key</span> <span class="o">=</span> <span class="n">priv_key</span><span class="o">.</span><span class="n">public_key</span><span class="p">()</span>
<span class="c1"># Create a signer</span>
<span class="n">signer</span> <span class="o">=</span> <span class="n">sec</span><span class="o">.</span><span class="n">Ed25519Signer</span><span class="p">(</span><span class="s1">&#39;/edu/ucla/xinyu.ma&#39;</span><span class="p">,</span> <span class="n">priv_key</span><span class="o">.</span><span class="n">export_key</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;DER&#39;</span><span class="p">))</span>
<span class="c1"># Sign a data with it</span>
<span class="n">data_wire</span> <span class="o">=</span> <span class="n">enc</span><span class="o">.</span><span class="n">make_data</span><span class="p">(</span>
    <span class="c1"># String can be directly used as Name in most cases</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;/edu/ucla/cs/118/notes&#39;</span><span class="p">,</span>
    <span class="c1"># Set the Interest packet&#39;s FreshnessPeriod to 10 seconds</span>
    <span class="n">meta_info</span><span class="o">=</span><span class="n">enc</span><span class="o">.</span><span class="n">MetaInfo</span><span class="p">(</span><span class="n">freshness_period</span><span class="o">=</span><span class="mi">10000</span><span class="p">),</span>
    <span class="c1"># Set the Data packet&#39;s content to &quot;Hello, NDN!&quot;</span>
    <span class="n">content</span><span class="o">=</span><span class="sa">b</span><span class="s1">&#39;Hello, NDN!&#39;</span><span class="p">,</span>
    <span class="n">signer</span><span class="o">=</span><span class="n">signer</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Data:&#39;</span><span class="p">,</span> <span class="n">data_wire</span><span class="o">.</span><span class="n">hex</span><span class="p">())</span>

<span class="c1"># Export public keys</span>
<span class="n">pub_key_bits</span> <span class="o">=</span> <span class="n">pub_key</span><span class="o">.</span><span class="n">export_key</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;DER&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Public Key bits:&#39;</span><span class="p">,</span> <span class="n">pub_key_bits</span><span class="o">.</span><span class="n">hex</span><span class="p">())</span>
<span class="c1"># Can be imported by: ECC.import_key(pub_key_bits)</span>

<span class="c1"># Then verify the Data packet using it</span>
<span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">sig_ptrs</span> <span class="o">=</span> <span class="n">enc</span><span class="o">.</span><span class="n">parse_data</span><span class="p">(</span><span class="n">data_wire</span><span class="p">)</span>
<span class="k">if</span> <span class="n">sec</span><span class="o">.</span><span class="n">verify_ed25519</span><span class="p">(</span><span class="n">pub_key</span><span class="p">,</span> <span class="n">sig_ptrs</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Data verified&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Data not verified&#39;</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Data</span><span class="p">,</span><span class="w"> </span><span class="nx">Name</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@ndn/packet&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Decoder</span><span class="p">,</span><span class="w"> </span><span class="nx">Encoder</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@ndn/tlv&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">toHex</span><span class="p">,</span><span class="w"> </span><span class="nx">toUtf8</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@ndn/util&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Ed25519</span><span class="p">,</span><span class="w"> </span><span class="nx">generateSigningKey</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@ndn/keychain&#39;</span><span class="p">;</span>

<span class="c1">// Generate key pairs (Recommend ECDSA and Ed25519 for EdDSA)</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">identityName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Name</span><span class="p">(</span><span class="s1">&#39;/edu/ucla/xinyu.ma&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">signer</span><span class="p">,</span><span class="w"> </span><span class="nx">verifier</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">generateSigningKey</span><span class="p">(</span><span class="nx">identityName</span><span class="p">,</span><span class="w"> </span><span class="nx">Ed25519</span><span class="p">);</span>
<span class="c1">// Sign a Data with it</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Data</span><span class="p">(</span>
<span class="w">  </span><span class="ow">new</span><span class="w"> </span><span class="nx">Name</span><span class="p">(</span><span class="s1">&#39;/edu/ucla/cs/118/notes&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="nx">Data</span><span class="p">.</span><span class="nx">FreshnessPeriod</span><span class="p">(</span><span class="mf">10000</span><span class="p">),</span>
<span class="w">  </span><span class="nx">toUtf8</span><span class="p">(</span><span class="s1">&#39;Hello, NDN!&#39;</span><span class="p">));</span>
<span class="k">await</span><span class="w"> </span><span class="nx">signer</span><span class="p">.</span><span class="nx">sign</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="c1">// Print the Data wire</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">wire</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Encoder</span><span class="p">.</span><span class="nx">encode</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Data:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">toHex</span><span class="p">(</span><span class="nx">wire</span><span class="p">));</span>

<span class="c1">// Export public keys</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">publicKeyBits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">verifier</span><span class="p">.</span><span class="nx">spki</span><span class="o">!</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Public Key bits:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">toHex</span><span class="p">(</span><span class="nx">publicKeyBits</span><span class="p">));</span>
<span class="c1">// Importing a public key in NDNts is very complicated </span>
<span class="c1">// so I recommend to use a certificate instead.</span>
<span class="c1">// I will show you how to do it later.</span>

<span class="c1">// Then verify the Data packet using it</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">decodedData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Decoder</span><span class="p">.</span><span class="nx">decode</span><span class="p">(</span><span class="nx">wire</span><span class="p">,</span><span class="w"> </span><span class="nx">Data</span><span class="p">);</span><span class="w"> </span><span class="c1">// Be the same as `data`</span>
<span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">verifier</span><span class="p">.</span><span class="nx">verify</span><span class="p">(</span><span class="nx">decodedData</span><span class="p">);</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Data verified&#39;</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Data not verified&#39;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<p>In a system, security is more than cryptographically verifying the signature.
For example, we also need to</p>
<ul>
<li>Securely obtain the public key of the producer.<ul>
<li>A signed piece of data containing the pubic key is called a <em>certificate</em>.</li>
</ul>
</li>
<li>Associate the producer with a member (human or process) in the system.</li>
<li>Make sure the member is allowed to sign the data.</li>
</ul>
<p>These tasks can be roughly classified into four aspects:</p>
<ul>
<li>Bootstrapping: to enroll a new member into an application. Make sure that the new member learns necessary security information to recognize others, and the other members are able to securely recognize new member.</li>
<li>Management: to manage the membership and certificates, including certification revocation, renewal, and other operations.</li>
<li>Authentication: to verify a piece of data is produced by claimed producer and not manipulated by an impersonator.
    This includes cryptographically verifying the signature.</li>
<li>Authorization: a piece of data is produced by an intended producer, and accessed by an intended consumer.
    This includes discarding of data whose producers are not allowed to produce, and encrypting data so that only permitted consumers can decrypt.</li>
</ul>
<p>The classification described is not strict. Most work on NDN involves more than one aspects of the security.</p>
<h2 id="trust-domain">Trust Domain</h2>
<p>A <em>trust domain</em> is a collection of named entities under the same administrative control.
For example, if a research group uses some NDN software to write papers,
then the papers and users' certificates involved in that software makes a trust domain.</p>
<p>A trust zone is usually configured with a <em>trust anchor</em>, a self-signed certificate whose name prefix reflects the name of the trust domain.
The trust anchor is called an "anchor" because all trust relations in the domain starts from it.
Suppose in the above paper writing example, the professor uses an admin certificate to sign student's public key,
and students uses their own key to sign changes they make to the paper.
Then, we have the following chain of signing:</p>
<pre class="mermaid"><code>flowchart LR
    Admin --&gt;|signs| Student --&gt;|signs| paper[Paper Changes]</code></pre>
<p>All signatures start from the admin's certificate if we transitively follow the chain of signing.
The entity (member or process) that owns the trust anchor has the power to control all trust relations within the trust domain.
Entities managing the trust relationship of the trust domain (including memberships and roles) are called <em>controllers</em>.
The owner of the trust anchor is always a controller.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">python-ndn</label><label for="__tabbed_2_2">NDNts</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">,</span> <span class="n">timezone</span>
<span class="kn">import</span> <span class="nn">ndn.encoding</span> <span class="k">as</span> <span class="nn">enc</span>
<span class="kn">import</span> <span class="nn">ndn.security</span> <span class="k">as</span> <span class="nn">sec</span>
<span class="kn">import</span> <span class="nn">ndn.app_support.security_v2</span> <span class="k">as</span> <span class="nn">secv2</span>
<span class="kn">from</span> <span class="nn">Cryptodome.PublicKey</span> <span class="kn">import</span> <span class="n">ECC</span>
<span class="kn">from</span> <span class="nn">Cryptodome.Random</span> <span class="kn">import</span> <span class="n">get_random_bytes</span>


<span class="c1"># Generate trust anchor of admin</span>
<span class="n">admin_priv</span> <span class="o">=</span> <span class="n">ECC</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">curve</span><span class="o">=</span><span class="s1">&#39;ed25519&#39;</span><span class="p">)</span>
<span class="n">admin_pub</span> <span class="o">=</span> <span class="n">admin_priv</span><span class="o">.</span><span class="n">public_key</span><span class="p">()</span>
<span class="n">admin_pub_bits</span> <span class="o">=</span> <span class="n">admin_pub</span><span class="o">.</span><span class="n">export_key</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;DER&#39;</span><span class="p">)</span>
<span class="n">admin_identity_name</span> <span class="o">=</span> <span class="n">enc</span><span class="o">.</span><span class="n">Name</span><span class="o">.</span><span class="n">from_str</span><span class="p">(</span><span class="s1">&#39;/lab/admin&#39;</span><span class="p">)</span>
<span class="c1"># Key name is &lt;IdentityName&gt;/KEY/&lt;keyId&gt;, here we use random value as key ID.</span>
<span class="c1"># You can also use timestamp, sequencial number, or hash.</span>
<span class="n">admin_key_name</span> <span class="o">=</span> <span class="n">enc</span><span class="o">.</span><span class="n">Name</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span>
    <span class="n">admin_identity_name</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;KEY&#39;</span><span class="p">,</span> <span class="n">enc</span><span class="o">.</span><span class="n">Component</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">get_random_bytes</span><span class="p">(</span><span class="mi">8</span><span class="p">))])</span>
<span class="c1"># Self signer is used to sign the self-signed certificate only.</span>
<span class="n">admin_self_signer</span> <span class="o">=</span> <span class="n">sec</span><span class="o">.</span><span class="n">Ed25519Signer</span><span class="p">(</span>
    <span class="n">admin_key_name</span><span class="p">,</span> <span class="n">admin_priv</span><span class="o">.</span><span class="n">export_key</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;DER&#39;</span><span class="p">))</span>
<span class="n">anchor_name</span><span class="p">,</span> <span class="n">anchor</span> <span class="o">=</span> <span class="n">secv2</span><span class="o">.</span><span class="n">self_sign</span><span class="p">(</span>
    <span class="n">admin_key_name</span><span class="p">,</span> <span class="n">admin_pub_bits</span><span class="p">,</span> <span class="n">admin_self_signer</span><span class="p">)</span>
<span class="c1"># We create a new signer with this certificate&#39;s name for further use</span>
<span class="n">admin_signer</span> <span class="o">=</span> <span class="n">sec</span><span class="o">.</span><span class="n">Ed25519Signer</span><span class="p">(</span>
    <span class="n">anchor_name</span><span class="p">,</span> <span class="n">admin_priv</span><span class="o">.</span><span class="n">export_key</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;DER&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Admin trust anchor name: </span><span class="si">{</span><span class="n">enc</span><span class="o">.</span><span class="n">Name</span><span class="o">.</span><span class="n">to_str</span><span class="p">(</span><span class="n">anchor_name</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Admin trust anchor hex: </span><span class="si">{</span><span class="nb">bytes</span><span class="p">(</span><span class="n">anchor</span><span class="p">)</span><span class="o">.</span><span class="n">hex</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="c1"># Generate the student&#39;s key and issue him a certificate</span>
<span class="n">stu_priv</span> <span class="o">=</span> <span class="n">ECC</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">curve</span><span class="o">=</span><span class="s1">&#39;ed25519&#39;</span><span class="p">)</span>
<span class="n">stu_pub</span> <span class="o">=</span> <span class="n">stu_priv</span><span class="o">.</span><span class="n">public_key</span><span class="p">()</span>
<span class="n">stu_pub_bits</span> <span class="o">=</span> <span class="n">stu_pub</span><span class="o">.</span><span class="n">export_key</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;DER&#39;</span><span class="p">)</span>
<span class="n">stu_identity_name</span> <span class="o">=</span> <span class="n">enc</span><span class="o">.</span><span class="n">Name</span><span class="o">.</span><span class="n">from_str</span><span class="p">(</span><span class="s1">&#39;/lab/student/xinyu.ma&#39;</span><span class="p">)</span>
<span class="n">stu_key_name</span> <span class="o">=</span> <span class="n">enc</span><span class="o">.</span><span class="n">Name</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span>
    <span class="n">stu_identity_name</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;KEY&#39;</span><span class="p">,</span> <span class="n">enc</span><span class="o">.</span><span class="n">Component</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">get_random_bytes</span><span class="p">(</span><span class="mi">8</span><span class="p">))])</span>
<span class="n">stu_cert_name</span><span class="p">,</span> <span class="n">stu_cert</span> <span class="o">=</span> <span class="n">secv2</span><span class="o">.</span><span class="n">new_cert</span><span class="p">(</span>
    <span class="n">stu_key_name</span><span class="p">,</span>
    <span class="s1">&#39;admin&#39;</span><span class="p">,</span>
    <span class="n">stu_pub_bits</span><span class="p">,</span>
    <span class="n">admin_signer</span><span class="p">,</span>
    <span class="n">start_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">),</span>
    <span class="n">end_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">365</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">stu_signer</span> <span class="o">=</span> <span class="n">sec</span><span class="o">.</span><span class="n">Ed25519Signer</span><span class="p">(</span>
    <span class="n">stu_cert_name</span><span class="p">,</span> <span class="n">stu_priv</span><span class="o">.</span><span class="n">export_key</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;DER&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Student certificate name: </span><span class="si">{</span><span class="n">enc</span><span class="o">.</span><span class="n">Name</span><span class="o">.</span><span class="n">to_str</span><span class="p">(</span><span class="n">stu_cert_name</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Student certificate hex: </span><span class="si">{</span><span class="nb">bytes</span><span class="p">(</span><span class="n">stu_cert</span><span class="p">)</span><span class="o">.</span><span class="n">hex</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="c1"># Sign the paper&#39;s data with the student&#39;s certificate</span>
<span class="n">data_wire</span> <span class="o">=</span> <span class="n">enc</span><span class="o">.</span><span class="n">make_data</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;/lab/paper/ndn/change/1&#39;</span><span class="p">,</span>
    <span class="n">meta_info</span><span class="o">=</span><span class="n">enc</span><span class="o">.</span><span class="n">MetaInfo</span><span class="p">(</span><span class="n">freshness_period</span><span class="o">=</span><span class="mi">10000</span><span class="p">),</span>
    <span class="n">content</span><span class="o">=</span><span class="sa">b</span><span class="s1">&#39;Hello, NDN!&#39;</span><span class="p">,</span>
    <span class="n">signer</span><span class="o">=</span><span class="n">stu_signer</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Data:&#39;</span><span class="p">,</span> <span class="n">data_wire</span><span class="o">.</span><span class="n">hex</span><span class="p">())</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Component</span><span class="p">,</span><span class="w"> </span><span class="nx">Data</span><span class="p">,</span><span class="w"> </span><span class="nx">Name</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@ndn/packet&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Encoder</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@ndn/tlv&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">toHex</span><span class="p">,</span><span class="w"> </span><span class="nx">toUtf8</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@ndn/util&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Certificate</span><span class="p">,</span><span class="w"> </span><span class="nx">Ed25519</span><span class="p">,</span><span class="w"> </span><span class="nx">generateSigningKey</span><span class="p">,</span><span class="w"> </span><span class="nx">ValidityPeriod</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@ndn/keychain&#39;</span><span class="p">;</span>

<span class="c1">// Generate trust anchor of admin</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">adminIdentityName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Name</span><span class="p">(</span><span class="s1">&#39;/lab/admin&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">adminSelfSigner</span><span class="p">,</span><span class="w"> </span><span class="nx">adminVerifier</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">generateSigningKey</span><span class="p">(</span><span class="nx">adminIdentityName</span><span class="p">,</span><span class="w"> </span><span class="nx">Ed25519</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">anchor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">Certificate</span><span class="p">.</span><span class="nx">selfSign</span><span class="p">({</span>
<span class="w">  </span><span class="nx">privateKey</span><span class="o">:</span><span class="w"> </span><span class="kt">adminSelfSigner</span><span class="p">,</span>
<span class="w">  </span><span class="nx">publicKey</span><span class="o">:</span><span class="w"> </span><span class="kt">adminVerifier</span><span class="p">,</span>
<span class="p">});</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">adminSigner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">adminSelfSigner</span><span class="p">.</span><span class="nx">withKeyLocator</span><span class="p">(</span><span class="nx">anchor</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">anchorWire</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Encoder</span><span class="p">.</span><span class="nx">encode</span><span class="p">(</span><span class="nx">anchor</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Admin trust anchor name: </span><span class="si">${</span><span class="nx">anchor</span><span class="p">.</span><span class="nx">name</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Admin trust anchor hex: </span><span class="si">${</span><span class="nx">toHex</span><span class="p">(</span><span class="nx">anchorWire</span><span class="p">)</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
<span class="c1">// The following line create the verifier from certificate</span>
<span class="c1">// const anchor = Certificate.fromData(Decoder.decode(anchorWire, Data));</span>
<span class="c1">// const adminVerifier = await createVerifier(anchor, {algoList: [Ed25519]});</span>

<span class="c1">// Generate the student&#39;s key and issue him a certificate</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">stuIdentityName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Name</span><span class="p">(</span><span class="s1">&#39;/lab/student/xinyu.ma&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">stuSelfSigner</span><span class="p">,</span><span class="w"> </span><span class="nx">stuVerifier</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">generateSigningKey</span><span class="p">(</span><span class="nx">stuIdentityName</span><span class="p">,</span><span class="w"> </span><span class="nx">Ed25519</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">stuCert</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">Certificate</span><span class="p">.</span><span class="nx">issue</span><span class="p">({</span>
<span class="w">  </span><span class="nx">issuerPrivateKey</span><span class="o">:</span><span class="w"> </span><span class="kt">adminSigner</span><span class="p">,</span>
<span class="w">  </span><span class="nx">publicKey</span><span class="o">:</span><span class="w"> </span><span class="kt">stuVerifier</span><span class="p">,</span>
<span class="w">  </span><span class="nx">issuerId</span><span class="o">:</span><span class="w"> </span><span class="kt">new</span><span class="w"> </span><span class="nx">Component</span><span class="p">(</span><span class="mf">8</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;admin&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="c1">// Equivalent to the following:</span>
<span class="w">  </span><span class="c1">// validity: new ValidityPeriod(Date.now(), Date.now() + 365 * 86400000),</span>
<span class="w">  </span><span class="nx">validity</span><span class="o">:</span><span class="w"> </span><span class="kt">ValidityPeriod.daysFromNow</span><span class="p">(</span><span class="mf">365</span><span class="p">),</span>
<span class="p">});</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">stuSigner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">stuSelfSigner</span><span class="p">.</span><span class="nx">withKeyLocator</span><span class="p">(</span><span class="nx">stuCert</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">stuCertWire</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Encoder</span><span class="p">.</span><span class="nx">encode</span><span class="p">(</span><span class="nx">stuCert</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Student certificate name: </span><span class="si">${</span><span class="nx">stuCert</span><span class="p">.</span><span class="nx">name</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Student certificate hex: </span><span class="si">${</span><span class="nx">toHex</span><span class="p">(</span><span class="nx">stuCertWire</span><span class="p">)</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>

<span class="c1">// Sign the paper&#39;s data with the student&#39;s certificate</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Data</span><span class="p">(</span>
<span class="w">  </span><span class="ow">new</span><span class="w"> </span><span class="nx">Name</span><span class="p">(</span><span class="s1">&#39;/lab/paper/ndn/change/1&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="nx">Data</span><span class="p">.</span><span class="nx">FreshnessPeriod</span><span class="p">(</span><span class="mf">10000</span><span class="p">),</span>
<span class="w">  </span><span class="nx">toUtf8</span><span class="p">(</span><span class="s1">&#39;Hello, NDN!&#39;</span><span class="p">),</span>
<span class="p">);</span>
<span class="k">await</span><span class="w"> </span><span class="nx">stuSigner</span><span class="p">.</span><span class="nx">sign</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">dataWire</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Encoder</span><span class="p">.</span><span class="nx">encode</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Data:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">toHex</span><span class="p">(</span><span class="nx">dataWire</span><span class="p">));</span>
</code></pre></div>
</div>
</div>
</div>
<p>An application may involve multiple trust domains. <em>Inter-domain trust relations</em> will be established by the controller.
In the case where pure peer-to-peer trust relation is established, every member is its own controller.</p>
<div class="admonition info">
<p class="admonition-title">Trust Zone</p>
<p>A trust domain has also been called a <em>trust zone</em> in some papers, not to be confused with the hardware trust zone.</p>
</div>
<h2 id="trust-schema">Trust Schema</h2>
<p>TBD</p>
<h2 id="full-name">Full Name</h2>
<p>The <em>full name</em> of a Data packet is the name of the Data appended with a ImplicitSha256Digest component.
The digest component contains a SHA256 hash of the whole packet.
Therefore, if the consumer securely obtains the full name of a packet, it can verifies the integrity by simply computing its hash digest,
without knowing any key.</p>
<p>This is useful for bootstrapping: one can learn the full name of the new member's certificate out-of-band,
and then fetch the it through some non-secure channel.</p>
<p>(Code snippet to be added)</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../communication/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Communication">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Communication
              </div>
            </div>
          </a>
        
        
          
          <a href="../sync/" class="md-footer__link md-footer__link--next" aria-label="Next: Sync Transport">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Sync Transport
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.tabs.link", "navigation.footer", "content.code.copy"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
        <script src="../javascripts/iframe-message.js"></script>
      
    
  </body>
</html>